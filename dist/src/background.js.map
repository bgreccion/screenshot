{"version":3,"file":"src/background.js","mappings":";AAAA;AACAA,MAAM,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAEC,YAAY,EAAK;EACtE,QAAQF,OAAO,CAACG,MAAM;IACpB,KAAK,iBAAiB;MACpBC,cAAc,CAACJ,OAAO,CAACK,OAAO,EAAEL,OAAO,CAACM,QAAQ,CAAC;MACjD;EACJ;EACA,OAAO,IAAI;AACb,CAAC,CAAC;;AAEF;AACA,SAASF,cAAcA,CAACC,OAAO,EAAEC,QAAQ,EAAE;EACzC;EACAC,KAAK,CAACF,OAAO,CAAC,CACXG,IAAI,CAAC,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACC,IAAI,CAAC,CAAC;EAAA,EAAC,CACvBF,IAAI,CAAC,UAAAE,IAAI,EAAI;IACZ,IAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC;IACrCd,MAAM,CAACkB,SAAS,CAACC,QAAQ,CAAC;MACxBJ,GAAG,EAAEA,GAAG;MACRL,QAAQ,EAAEA,QAAQ,kBAAAU,MAAA,CAAkB,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,SAAM;MAClEC,MAAM,EAAE;IACV,CAAC,EAAE,YAAM;MACPP,GAAG,CAACQ,eAAe,CAACT,GAAG,CAAC;IAC1B,CAAC,CAAC;EACJ,CAAC,CAAC,SACI,CAAC,UAAAU,KAAK,EAAI;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;EAClD,CAAC,CAAC;AACN,C","sources":["webpack://smartmerge-screenshot/./src/background.js"],"sourcesContent":["// Handle messages from popup\r\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\r\n  switch (request.action) {\r\n    case 'SAVE_SCREENSHOT':\r\n      saveScreenshot(request.dataUrl, request.filename);\r\n      break;\r\n  }\r\n  return true;\r\n});\r\n\r\n// Save screenshot to downloads\r\nfunction saveScreenshot(dataUrl, filename) {\r\n  // Convert base64 to blob\r\n  fetch(dataUrl)\r\n    .then(res => res.blob())\r\n    .then(blob => {\r\n      const url = URL.createObjectURL(blob);\r\n      chrome.downloads.download({\r\n        url: url,\r\n        filename: filename || `screenshot_${new Date().toISOString()}.png`,\r\n        saveAs: true\r\n      }, () => {\r\n        URL.revokeObjectURL(url);\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.error('Error saving screenshot:', error);\r\n    });\r\n}\r\n"],"names":["chrome","runtime","onMessage","addListener","request","sender","sendResponse","action","saveScreenshot","dataUrl","filename","fetch","then","res","blob","url","URL","createObjectURL","downloads","download","concat","Date","toISOString","saveAs","revokeObjectURL","error","console"],"sourceRoot":""}